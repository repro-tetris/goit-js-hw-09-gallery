{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","cntImages","gallery","default","length","curImgIdx","refs","galleryEl","document","querySelector","modalWnd","closeModalBtn","originalImg","lightboxOverlay","OnGalleryImgClick","e","target","classList","contains","dataset","idx","changeImage","alt","source","addEventListener","onLigthboxOverlayClick","window","onPressKey","add","onCloseModalWnd","removeEventListener","remove","currentTarget","key","changeImageByIdx","src","imgEl","insertAdjacentHTML","map","liEl","createElement","appendChild","outerHTML","join"],"mappings":"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","file":"src.c41c2aef.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n","import './sass/main.scss';\n\nimport * as gallery from './js/gallery-items';\n\n// кількість зображень в галереї\nconst cntImages = gallery.default.length;\n// поточна позиція у галереї\nlet curImgIdx = 0;\n\nconst refs = {\n  galleryEl: document.querySelector('.js-gallery'),\n  modalWnd: document.querySelector('.js-lightbox'),\n  closeModalBtn: document.querySelector('button[data-action=close-lightbox]'),\n  originalImg: document.querySelector('.lightbox__image'),\n  lightboxOverlay: document.querySelector('.lightbox__overlay'),\n};\n\n// створення розмітки\nrefs.galleryEl.insertAdjacentHTML(\n  'afterbegin',\n  gallery.default\n    .map(({ preview, description, original }, idx) => {\n      // створити li, додати клас gallery__item\n      const liEl = document.createElement('li');\n      liEl.classList.add('gallery__item');\n      // створити img,додати gallery__image\n      const imgEl = document.createElement('img');\n      imgEl.src = preview;\n      imgEl.alt = description;\n      imgEl.dataset.source = original;\n      imgEl.dataset.idx = idx;\n      imgEl.classList.add('gallery__image');\n      liEl.appendChild(imgEl);\n\n      return liEl.outerHTML;\n    })\n    .join(''),\n);\n\n// подія на клік по зображенню\nrefs.galleryEl.addEventListener('click', OnGalleryImgClick);\n// подія на клік по кнопці \"close\"\nrefs.closeModalBtn.addEventListener('click', onCloseModalWnd);\n\n//функція кліку на зображення\nfunction OnGalleryImgClick(e) {\n  //якщо клікнули на щось інше, а не на зображення, то пропускаємо\n  if (!e.target.classList.contains('gallery__image')) return;\n\n  // заповнюємо параметри\n  curImgIdx = e.target.dataset.idx;\n  changeImage(e.target.alt, e.target.dataset.source);\n\n  refs.lightboxOverlay.addEventListener('click', onLigthboxOverlayClick);\n  window.addEventListener('keydown', onPressKey);\n  refs.modalWnd.classList.add('is-open');\n}\n\nfunction onCloseModalWnd() {\n  refs.lightboxOverlay.removeEventListener('click', onLigthboxOverlayClick);\n  window.removeEventListener('keydown', onPressKey);\n  refs.modalWnd.classList.remove('is-open');\n  changeImage(null, null);\n}\n\n// extra functional\nfunction onLigthboxOverlayClick(e) {\n  if (e.target !== e.currentTarget) return;\n\n  onCloseModalWnd();\n}\n\nfunction onPressKey(e) {\n  if (e.key === 'Escape') {\n    onCloseModalWnd();\n  } else if (e.key === 'ArrowLeft') {\n    // індекс попереднього зображення\n    curImgIdx = (curImgIdx + cntImages - 1) % cntImages;\n    changeImageByIdx(curImgIdx);\n  } else if (e.key === 'ArrowRight') {\n    // індекс наступного зображення\n    curImgIdx = (curImgIdx + 1) % cntImages;\n    changeImageByIdx(curImgIdx);\n  }\n}\n\nfunction changeImage(alt, src) {\n  refs.originalImg.src = src; //gallery.default[curImgIdx].original;\n  refs.originalImg.alt = alt; // gallery.default[curImgIdx].description;\n}\n\nfunction changeImageByIdx(idx) {\n  const imgEl = refs.galleryEl.querySelector(`.gallery__image[data-idx=\"${idx}\"]`);\n  changeImage(imgEl.alt, imgEl.dataset.source);\n}\n"]}